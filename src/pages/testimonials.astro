---
import Layout from '../layouts/Layout.astro';

const testimonials = [
...
];

const base = import.meta.env.BASE_URL.replace(~/$/, '');
---

<Layout title="Patient Testimonials" description="Read testimonials from patients of Danville Gastroenterology Center. Our 4.2-star average reflects our commitment to compassionate, expert care in Danville, VA.">
  <!-- Hero Section -->
  <section class="bg-secondary pt-40 pb-20 text-center relative overflow-hidden">
    <div class="absolute inset-0 opacity-5" style={`background-image: url('${base}/assets/patterns/cubes.png')`}></div>
    <div class="container mx-auto px-4 relative z-10">
      <span class="text-accent-dark font-semibold tracking-wider uppercase text-sm mb-2 block">Patient Feedback</span>
      <h1 class="heading-1 text-primary mb-6">Patient Testimonials</h1>
      
      <!-- Rating Highlight -->
      <div class="flex flex-col items-center gap-2">
        <div class="flex text-accent-dark text-2xl">
          {[1, 2, 3, 4].map(() => <span>★</span>)}
          <span class="relative">
            <span class="opacity-30">★</span>
            <span class="absolute inset-0 overflow-hidden w-[20%] text-accent-dark">★</span>
          </span>
        </div>
        <p class="text-description font-semibold uppercase tracking-widest text-xs mt-2">Patient Rating</p>
      </div>
    </div>
  </section>

  <!-- Testimonials Grid -->
  <section class="py-24 bg-white">
    <div class="container mx-auto px-4">
      <div class="flex flex-wrap justify-center gap-8 max-w-7xl mx-auto">
        {testimonials.map((t) => (
          <div class="card p-8 italic text-description w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.33%-1.5rem)] max-w-md flex flex-col justify-between" aria-label={`Testimonial from ${t.author}`}>
            <div>
              <p class="mb-6 leading-relaxed">"{t.quote}"</p>
            </div>
            <div class="border-t border-gray-100 pt-4 mt-auto">
              <span class="font-semibold text-primary not-italic block text-sm">— {t.author}</span>
              <span class="text-xs text-description not-italic block mt-1">{t.date}</span>
            </div>
          </div>
        ))}
      </div>

      <!-- External Links -->
      <div class="text-center mt-20 space-y-6">
        <h2 class="heading-3">Share Your Experience</h2>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="https://www.google.com/search?q=Danville+Gastroenterology+Center#lrd=0x89ad0c3d3d3d3d3d:0x3d3d3d3d3d3d3d3d,10" target="_blank" rel="noopener noreferrer" class="btn-primary">
            Write a Google Review
          </a>
          <a href="https://www.google.com/search?q=Danville+Gastroenterology+Center#lrd=0x89ad0c3d3d3d3d3d:0x3d3d3d3d3d3d3d3d,1" target="_blank" rel="noopener noreferrer" class="btn-outline">
            Read More on Google
          </a>
        </div>
      </div>
    </div>
  </section>
</Layout>
